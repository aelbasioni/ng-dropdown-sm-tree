{"version":3,"sources":["ng-dropdownsmtree.js"],"names":["app","directive","$filter","restrict","require","replace","scope","childArrays","parentArray","disabled","selectedsubjectdesc","template","iElement","iAttrs","controlClass","searchPlaceholder","childArraysItemParentId","parentArrayItemId","link","_arr","ctrl","$render","$viewValue","Description","highlightContainers","event","elm","i","length","find","removeClass","highlightedelementclass","clickedItem","doRemoveHighlightContainers","currentTarget","srcElement","SearchSubjectFLTR","DepartmentID","$","_divID","addClass","showSecondLevel","dept","closest","slideToggle","toggleClass","setselecteditem","sb","$setViewValue"],"mappings":"AACAA,IAAIC,UAAU,mBAAoB,SAAUC,GACxC,MAAO,CAEHC,SAAU,KACVC,QAAS,UACTC,SAAAA,EAEAC,MAAO,CACHC,YAAa,IACbC,YAAa,IACbC,SAAU,IACVC,oBAAqB,KAMzBC,SAAU,SAAUC,EAAUC,GAuB1B,MArBW,2GAqBXA,EAAAC,aAAA,gVAK2CD,EAAAE,kBAAA,ofAfyCF,EAAOG,wBAAwB,WAAaH,EAAOI,kBAAkB,iKAwCjJC,KAAA,SAAIC,EAAOjB,EAAQW,EAAUO,GAEzBA,EAAAC,QAAA,WAIHD,EAAAE,WACJhB,EAAAI,oBAAAU,EAAAE,WAAAC,YA1BCjB,EAAMI,oBAAsB,mBAYlCJ,EAAMkB,oBAAsB,SAAUC,GAMlC,GAaA,SAAAC,GAEA,IACA,IAAA,IAAAC,EAAA,EAAAA,EAAArB,EAAAE,YAAAoB,OAAAD,IACAD,EAAAG,KAAA,QAAAC,YAAAjB,EAAAkB,yBAGAC,MAAAA,KAIJC,CAESZ,EAALI,EAAAS,eAAAT,EAAAU,aA1BqC,EAAjC7B,EAAM8B,kBAAkBR,OArE5C,IACI,IAAAT,EAAAjB,EAAA,SAAA,cAAAA,CAAAI,EAAAC,YAAAD,EAAA8B,mBADJT,EAAA,EAAAA,EAAAR,EAAAS,OAAAD,IAwEqD,MAAzBR,EAAKQ,GAAGU,cACRC,EAAE,IAAMC,OAAS,WAAWC,SAAS3B,EAAOkB,yBAE5CO,EAAE,IAAMC,OAASpB,EAAKQ,GAAGU,aAAe,WAAWG,SAAS3B,EAAOkB,0BAKnFzB,EAAMmC,gBAAkB,SAAUC,EAAMjB,GAOpC,IAAIO,EAAcM,EAAEb,EAAMS,eAAiBT,EAAMU,YAAYQ,QAAQ,MACrEX,EAAYH,KAAK,YAAYe,YAAY,KACzCZ,EAAYH,KAAK,cAAcgB,YAAY,mCAI/CvC,EAAMwC,gBAAkB,SAAUC,GAC9B3B,EAAK4B,cAAcD,GACnB3B,EAAKC","file":"ng-dropdownsmtree.min.js","sourcesContent":["//angular.module( \"ngDropdownsmtree\", [])\r\napp.directive('ngDropdownsmtree', function ($filter) {\r\n    return {\r\n        // can be used as attribute(A) or element(E)\r\n        restrict: 'AE',\r\n        require: 'ngModel',\r\n        replace:true,\r\n        // declare the directive scope as private \r\n        scope: {\r\n            childArrays: '=',\r\n            parentArray: '=',\r\n            disabled: '=',\r\n            selectedsubjectdesc: '@'\r\n\r\n        },\r\n\r\n\r\n        // the markup this directive generates\r\n        template: function (iElement, iAttrs) {\r\n\r\n            var html = '<div class=\"btn-group\" style=\"width:100%\">' +\r\n                            '<button type=\"button\" class=\"btn dropdown-toggle form-control ' + iAttrs.controlClass + '\" data-ng-class=\"{\\'disabled\\':disabled == true}\"   data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\" >' +\r\n                                '<i class=\"glyphicon glyphicon-triangle-bottom pull-right\" style=\"margin-top:3px\"></i>' +\r\n                                 '{{selectedsubjectdesc}}' +\r\n                            '</button>            ' +\r\n                            '<ul class=\"dropdown-menu custom-dropdown-menu\" >' +\r\n                                '<li ><input type=\"text\" placeholder=\"' + iAttrs.searchPlaceholder + '\" class=\"form-control\" data-ng-change=\"highlightContainers($event)\" data-ng-model=\"SearchSubjectFLTR\" data-ng-init=\"SearchSubjectFLTR =\\'\\'\" /></li>' +\r\n                                '<li data-ng-repeat=\"item in parentArray\">' +\r\n                                    '<span  onclick=\"event.stopPropagation();\" data-ng-click=\"showSecondLevel(item,$event)\" ><span class=\"glyphicon glyphicon-plus\"></span> {{item.Description}}</span>' +\r\n                                    '<div class=\"content\" style=\"margin-left: 14px; overflow: hidden\">' +\r\n                                    '<ul style=\"padding-left: 15px\" >' +\r\n                                            '<li data-ng-repeat=\"sb in childArrays | filter: {'+iAttrs.childArraysItemParentId+': item[\\''+ iAttrs.parentArrayItemId+'\\']}: true | filter:{Description:SearchSubjectFLTR} \">' +\r\n                                                '<a href=\"\" data-ng-click=\"setselecteditem(sb)\"> {{sb.Description }}</a>' +\r\n                                            '</li>' +\r\n                                        '</ul>' +\r\n                                    '</div>' +\r\n                                '</li>' +\r\n\r\n                            '</ul>' +\r\n                        '</div>';\r\n\r\n            return html;\r\n        },\r\n\r\n        // this function is called on each ng-Twolevelddl instance initialisation\r\n        // we just declare what we need in the above template\r\n        link: function (scope, iElement, iAttrs, ctrl) {\r\n\r\n            ctrl.$render = function () {\r\n                if(ctrl.$viewValue)\r\n                  scope.selectedsubjectdesc = ctrl.$viewValue.Description;\r\n                else\r\n                  scope.selectedsubjectdesc = \"select item ...\"\r\n            };\r\n      \r\n            function doRemoveHighlightContainers(elm) {\r\n\r\n                try {\r\n                    for (var i = 0; i < scope.parentArray.length; i++) {\r\n                        elm.find(\"span\").removeClass(iAttrs.highlightedelementclass);                       \r\n                    }\r\n\r\n                } catch (e) { }\r\n            };\r\n            scope.highlightContainers = function (event) {\r\n\r\n\r\n                var elm = $(event.currentTarget || event.srcElement);\r\n                doRemoveHighlightContainers(elm);\r\n\r\n                if (scope.SearchSubjectFLTR.length > 0) {\r\n                    var _arr = $filter('filter', 'Description')(scope.childArrays, scope.SearchSubjectFLTR);\r\n                    for (var i = 0; i < _arr.length; i++) {\r\n                        if (_arr[i][DepartmentID] == null)\r\n                            $(\"#\" + _divID + \" > span\").addClass(iAttrs.highlightedelementclass);\r\n                        else\r\n                            $(\"#\" + _divID + _arr[i].DepartmentID + \" > span\").addClass(iAttrs.highlightedelementclass);\r\n                    }\r\n                }\r\n            };\r\n\r\n            scope.showSecondLevel = function (dept, event) {\r\n\r\n                //var indexID = dept.DepartmentID;\r\n                //if (indexID == null)\r\n                //    indexID = \"\";\r\n                //alert\r\n                //var clickedItem = angular.element((event.currentTarget || event.srcElement)).closest('li');\r\n                var clickedItem = $(event.currentTarget || event.srcElement).closest('li');\r\n                clickedItem.find('.content').slideToggle(500);\r\n                clickedItem.find('.glyphicon').toggleClass('glyphicon-plus glyphicon-minus');\r\n\r\n            };\r\n\r\n            scope.setselecteditem = function (sb) {\r\n                ctrl.$setViewValue(sb);\r\n                ctrl.$render();\r\n            };\r\n\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n    };\r\n});\r\n\r\n\r\n"]}