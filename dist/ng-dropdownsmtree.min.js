"use strict";angular.module("ngDropdownsmtree",[]).directive("ngDropdownsmtree",["$filter",function(i){return{restrict:"AE",require:"ngModel",replace:!0,scope:{childArrays:"=",parentArray:"=",childArraysItemDisplayField:"@",parentArrayItemDisplayField:"@",childArraysItemSearchField:"@",disabled:"=",titlePlaceholder:"@"},template:function(e,a){return'<div class="btn-group ng-dropdownsmtree-css">\n                            <button type="button" class="btn dropdown-toggle '+a.controlClass+'" data-ng-class="{\'disabled\':disabled == true}"   data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" >\n                                <i class="glyphicon glyphicon-triangle-bottom pull-right" aria-hidden="true"></i>\n                                 {{selectedsubjectdesc}}\n                            </button>            \n                            <ul class="dropdown-menu ng-dropdownsmtree-inner-dropdown-menu" role="tree">\n                                <li ><input type="text" placeholder="'+a.searchPlaceholder+'" aria-label="'+a.searchPlaceholder+'" class="form-control"  ng-change="highlightContainers()" data-ng-model="SearchSubjectFLTR" data-ng-init="SearchSubjectFLTR =\'\'" /></li>\n                                <li data-ng-repeat="item in parentArray" onclick="event.stopPropagation();" data-ng-click="showSecondLevel($event)" data-src="{{item[\''+a.parentArrayItemIdField+'\']}}" data-ng-keydown="onEnter($event)" role="treeitem" tabindex="0" aria-expanded="false">\n                                    <span><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> {{item[parentArrayItemDisplayField]}}</span>\n                                    <ul role="group" class="content">\n                                        <li data-ng-repeat="sb in childArrays | filter: {'+a.childArraysItemParentId+": item['"+a.parentArrayItemIdField+"']}: true | filter:{"+a.childArraysItemSearchField+':SearchSubjectFLTR} ">\n                                            <a href="" data-ng-click="setselecteditem(sb)" role="treeitem" tabindex="-1"> {{sb[childArraysItemDisplayField] }}</a>\n                                        </li>\n                                    </ul>                                    \n                                </li>\n\n                            </ul>\n                        </div>'},link:function(n,r,l,a){a.$render=function(){a.$viewValue?n.selectedsubjectdesc=a.$viewValue.Description:n.selectedsubjectdesc=n.titlePlaceholder},n.highlightContainers=function(){var e=$(r).find("ul");if(e.find(" >li > span.has-data").removeClass("has-data"),0<n.SearchSubjectFLTR.length)for(var a=i("filter",n.childArraysItemSearchField)(n.childArrays,n.SearchSubjectFLTR),t=0;t<a.length;t++)null===a[t][l.childArraysItemParentId]?e.find("[data-src=''] >span").addClass("has-data"):e.find("[data-src="+a[t][l.childArraysItemParentId]+"] >span").addClass("has-data")},n.showSecondLevel=function(e){var a=$(e.currentTarget||e.srcElement).closest("li"),t=a.find(".content");"none"===t.css("display")?a.attr("aria-expanded","false"):a.attr("aria-expanded","true"),t.slideToggle(500),a.find(".glyphicon").toggleClass("glyphicon-plus glyphicon-minus")},n.onEnter=function(e){13===e.keyCode&&n.showSecondLevel(e)},n.setselecteditem=function(e){a.$setViewValue(e),a.$render()}}}}]);
//# sourceMappingURL=ng-dropdownsmtree.min.js.map
