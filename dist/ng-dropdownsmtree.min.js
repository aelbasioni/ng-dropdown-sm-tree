"use strict";angular.module("ngDropdownsmtree",[]).constant("ngDropdownsmtreeConfig",{TITLE_PLACEHOLDER:"Choose subitem",SEARCH_PLACEHOLDER:"Search"}).directive("ngDropdownsmtree",["$filter","ngDropdownsmtreeConfig",function(i,e){return{restrict:"AE",require:"ngModel",replace:!0,scope:{childArrays:"=",parentArray:"=",childArraysItemDisplayField:"@",parentArrayItemDisplayField:"@",childArraysItemSearchField:"@",parentArrayItemIdField:"@",disabled:"@",titlePlaceholder:"@"},template:function(e,a){return'<div class="btn-group ng-dropdownsmtree-css">\n                            <button type="button" class="btn dropdown-toggle '+a.controlClass+'" data-ng-class="{\'disabled\':disabled == \'true\'}"   data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" >\n                                 <i class="glyphicon glyphicon-triangle-bottom pull-right" aria-hidden="true"></i>\n                                  {{selectedSubItem}}\n                             </button>            \n                             <ul class="dropdown-menu ng-dropdownsmtree-inner-dropdown-menu" role="tree">\n                                 <li ><input type="text" placeholder="{{searchPlaceholder}}" aria-label="{{searchPlaceholder}}" class="form-control"  ng-change="highlightContainers()" data-ng-model="SearchSubjectFLTR" data-ng-init="SearchSubjectFLTR =\'\'" /></li>\n                                 <li data-ng-repeat="item in parentArray" onclick="event.stopPropagation();" data-ng-click="showSecondLevel($event)" data-src="{{item[parentArrayItemIdField]}}" data-ng-keydown="onEnter($event)" role="treeitem" tabindex="0" aria-expanded="false">\n                                     <span><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> {{item[parentArrayItemDisplayField]}}</span>\n                                     <ul role="group" class="content">\n                                         <li data-ng-repeat="sb in childArrays | filter: {'+a.childArraysItemParentId+": item[parentArrayItemIdField]}: true | filter:{"+a.childArraysItemSearchField+':SearchSubjectFLTR} ">\n                                             <a href="" data-ng-click="setselecteditem(sb)" role="treeitem" tabindex="-1"> {{sb[childArraysItemDisplayField] }}</a>\n                                         </li>\n                                     </ul>                                    \n                                 </li>\n \n                             </ul>\n                         </div>'},link:function(r,n,l,a){r.searchPlaceholder=r.searchPlaceholder||e.SEARCH_PLACEHOLDER,r.disabled="true"===r.disabled,a.$render=function(){a.$viewValue?r.selectedSubItem=a.$viewValue[r.childArraysItemDisplayField]:r.selectedSubItem=r.titlePlaceholder?r.titlePlaceholder:e.TITLE_PLACEHOLDER},r.highlightContainers=function(){var e=$(n).find("ul");if(e.find(" >li > span.has-data").removeClass("has-data"),0<r.SearchSubjectFLTR.length)for(var a=i("filter",r.childArraysItemSearchField)(r.childArrays,r.SearchSubjectFLTR),t=0;t<a.length;t++)null===a[t][l.childArraysItemParentId]?e.find("[data-src=''] >span").addClass("has-data"):e.find("[data-src="+a[t][l.childArraysItemParentId]+"] >span").addClass("has-data")},r.showSecondLevel=function(e){var a=$(e.currentTarget||e.srcElement).closest("li"),t=a.find(".content");"none"===t.css("display")?a.attr("aria-expanded","false"):a.attr("aria-expanded","true"),t.slideToggle(500),a.find(".glyphicon").toggleClass("glyphicon-plus glyphicon-minus")},r.onEnter=function(e){13===e.keyCode&&r.showSecondLevel(e)},r.setselecteditem=function(e){a.$setViewValue(e),a.$render()}}}}]);
//# sourceMappingURL=ng-dropdownsmtree.min.js.map
